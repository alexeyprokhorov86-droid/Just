# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—Ä–æ–µ–∫—Ç–∞

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω
cp .env.example .env

# –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
nano .env  # –∏–ª–∏ vim, –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
```

### 2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

#### ü§ñ Telegram Bot Token
```bash
BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
```
**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:**
1. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –±–æ—Ç–∞
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

#### üë§ Admin User ID
```bash
ADMIN_USER_ID=123456789
```
**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:**
1. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É [@userinfobot](https://t.me/userinfobot)
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à ID

#### üóÑÔ∏è Database Password
```bash
DB_PASSWORD=your_secure_password
```
**–°–æ–∑–¥–∞–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å!**

#### ü§ñ Claude API Key
```bash
ANTHROPIC_API_KEY=sk-ant-api03-...
```
**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [console.anthropic.com](https://console.anthropic.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á –≤ —Ä–∞–∑–¥–µ–ª–µ API Keys

#### üåê RouterAI API Key (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```bash
ROUTERAI_API_KEY=your_routerai_key
```
**–î–ª—è —á–µ–≥–æ:** –ø–æ–∏—Å–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ —á–µ—Ä–µ–∑ Perplexity –∏ –∞–Ω–∞–ª–∏–∑ –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ Gemini

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ .env –ù–ï –ø–æ–ø–∞–¥–µ—Ç –≤ git
cat .gitignore | grep .env

# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏:
# .env
# .env.local
# .env.*.local
```

### 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker
docker-compose up -d

# –ï—Å–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π PostgreSQL
sudo -u postgres psql
CREATE DATABASE knowledge_base;
CREATE USER knowledge WITH PASSWORD 'your_password';
GRANT ALL PRIVILEGES ON DATABASE knowledge_base TO knowledge;
\q
```

### 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
```

### 6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
# –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫
python bot.py

# –ò–ª–∏ —á–µ—Ä–µ–∑ systemd (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
sudo systemctl start telegram-logger
```

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### ‚ùå –ù–ò–ö–û–ì–î–ê –ù–ï –î–ï–õ–ê–ô–¢–ï –≠–¢–û:
- ‚ùå –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` –≤ git
- ‚ùå –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —Ç–æ–∫–µ–Ω—ã –∏ –ø–∞—Ä–æ–ª–∏
- ‚ùå –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ –∫–æ–¥–µ

### ‚úÖ –í–°–ï–ì–î–ê –î–ï–õ–ê–ô–¢–ï –≠–¢–û:
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.env` –¥–ª—è –≤—Å–µ—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤
- ‚úÖ –î–æ–±–∞–≤—å—Ç–µ `.env` –≤ `.gitignore`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω–æ –º–µ–Ω—è–π—Ç–µ —Ç–æ–∫–µ–Ω—ã

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

–ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –±—ã–ª —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω:

1. **–°–º–µ–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤ BotFather:**
   ```
   /mybots ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ ‚Üí API Token ‚Üí Revoke current token
   ```

2. **–û–±–Ω–æ–≤–∏—Ç–µ .env:**
   ```bash
   nano .env
   # –ò–∑–º–µ–Ω–∏—Ç–µ BOT_TOKEN –Ω–∞ –Ω–æ–≤—ã–π
   ```

3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```bash
   sudo systemctl restart telegram-logger
   ```

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### Backup
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –±—ç–∫–∞–ø–æ–≤
BACKUP_DIR=/path/to/your/backups
BACKUP_DAYS_TO_KEEP=14
```

### Watchdog
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–æ–≤ watchdog
WATCHDOG_STATE_FILE=/var/log/telegram-logger/watchdog_state.txt
WATCHDOG_LOG_FILE=/var/log/telegram-logger/watchdog.log
```

### Proxy (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
```bash
# –î–ª—è —Ä–∞–±–æ—Ç—ã Claude —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
PROXY_URL=http://proxy.example.com:8080
```

## üÜò –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
cat .env | grep -v '^#' | grep -v '^$'

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
journalctl -u telegram-logger -n 50 --no-pager
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
psql -h localhost -U knowledge -d knowledge_base

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker ps | grep knowledge_db
```

### –¢–æ–∫–µ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ API
curl https://api.telegram.org/bot<YOUR_TOKEN>/getMe
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤—Å–µ—Ö —Ç–æ–∫–µ–Ω–æ–≤ –≤ `.env`
2. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
3. –õ–æ–≥–∏: `journalctl -u telegram-logger -f`
